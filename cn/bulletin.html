<!DOCTYPE html>
<html lang="en">
<head>
  <title>CryptoC14 一站式区块链应用</title>
  <meta charset="utf-8">
  <meta name="description" content="一站式区块链应用">
  <meta name="keywords" content="blockchain, crypto evidence, digital evidence, DAPP, anti-counterfeiting, traceability, NFT, reward points">
  <meta name="author" content="wechat ID: fengyun_houston">
  <meta name="wallet" content="ARDOR-49CE-CXZZ-3QHW-AH4JK">
  <meta name="integrity" content="token...">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel = "icon" href ="../images/logo-cc14.png" type = "image/x-icon">
  <link rel="stylesheet" href="../css/bootstrap.min.css">
  <link rel="stylesheet" href="../css/style-cc14.css">
  <script src="https://kit.fontawesome.com/8f35fa144d.js" crossorigin="anonymous"></script>
  <style>
  @media all and (min-width: 992px) {
	  .navbar .nav-item .dropdown-menu{ display: none; }
    .navbar .nav-item:hover .nav-link{ color: #000;  }
	  .navbar .nav-item:hover .dropdown-menu{ display: block; }
	  .navbar .nav-item .dropdown-menu{ margin-top:0; }
  }
  .noScroll::-webkit-scrollbar {
    display: none;
  }
  .opacity25{
    opacity: 50%;
  }
  .opacity25:hover{
    opacity: 100%;
  }
  #postMessage:hover{
    background-color: #129611;
    border: 1px solid #129611;
    color: white;
  }
  .inputButtonCSS{
    border: 1px solid #CED4DA;
  }
  .position{
    position:fixed;
    right:0px;
    top:30%;
    z-index: 1;
  }
</style>
</head>
<body style="background-color:#F5F5F5">
  <div >
    <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light " id="navbar">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html"><img src="../images/logo-cc14.png" width="74" height="44" loading="lazy"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item"><a class="nav-link" href="tokenManagement.html">令牌管理</a></li>
            <li class="nav-item"><a class="nav-link" href="cryptoEvidence.html">加密存证</a></li>
            <li class="nav-item"><a class="nav-link" href="utilities.html">常用工具</a></li>
            <li class="nav-item"><a class="nav-link" href="howTo.html">操作手册</a></li>
            <li class="nav-item"><a class="nav-link" href="search.html">&nbsp;&nbsp;&#x1F50D;&nbsp;&nbsp;</a></li>
            <li class="nav-item"><a class="nav-link" href="../en/index.html">ENG</a></li>
          </ul>
          <form class="d-flex" id="selectNodeUrlForm" >
            <div class="input-group">
              <select class="form-select" id="nodeAddress" name="nodeAddress" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Connect to">
                <option value="http://www.cryptoc14.com:19886/" selected>CC14@ CryptoC14.com</option>
                <option value="http://www.ditinow.com:19886/">CC14@ DiTiNOW.com</option>
                <option value="http://40.124.110.187:19886/">CC14@ Azure US South Central Zone 1</option>
                <option value="http://106.52.243.178:19886/">CC14@ 腾讯 广州 Tencent Guangzhou</option>
                <option value="http://101.34.178.164:19886/">CC14@ 腾讯 上海 Tencent Shanghai</option>
                <option value="http://localhost:19886/" disabled>CC14@ 本地电脑</option>
                <option value="http://192.168.1.7:19886/">CC14@ 本地网络</option>
              </select>
              <button type="submit" class="btn btn-outline-secondary " >设置</button>
            </div>
          </form>
        </div>
      </div>
    </nav>
    <div class="container-fluid" >
      <div class="btn-group-vertical align-middle position" >
        <button type="button" id="linktab1" class="btn btn-outline-secondary btn-sm opacity25 active" ><span style="writing-mode: vertical-rl; "><span id="linktab1Icon">&#x1F503;</span> 版块版面</span></button>
        <button type="button" id="linktab2" class="btn btn-outline-secondary btn-sm opacity25" onclick="tabFn('tab2')"><span style="writing-mode: vertical-rl; ">&#128682; 登陆信息</span></button>
        <button type="button" id="linktab3" class="btn btn-outline-secondary btn-sm opacity25" onclick="tabFn('tab3')"><span style="writing-mode: vertical-rl; ">&#128296; 创建版块</span></button>
      </div>
      <div id="tab1" class="overflow-auto noScroll" style="height: calc(100vh - 180px)" name="tab billboard " >
        <div id="billboard">
          <span id="displayMessage"></span>
        </div>
        <div class="">
          <span id="autoJump"></span>
        </div>
      </div>
      <div id="tab2" class="d-none" name="tab account">
        <div class="mt-3">
          <form>
            <div class="input-group mb-3">
              <span class="input-group-text">版块</span>
              <input type="text" class="form-control chatTokenID" id="selectedChatID" name='chatRoom' list="chatRoomList" placeholder="选择或输入聊天室编号" autocomplete="on" required>
              <datalist id="chatRoomList">
                <option value="3922836936387876787"id="chatIDLastOnList">Demo - Crypto Bulletin Board 公告栏</option>
                <!-- <option value="7979927564843058923">for CryptoC14</option> -->
              </datalist>
            </div>
            <div class="input-group mb-3">
              <span class="input-group-text">密钥</span>
              <input type="password" class="form-control chatAccountPW" name='passphrase' id='chatWalletPassphrase' placeholder="留言专用钱包密钥" >
              <span class="input-group-text fs-4"  id="chatWalletPassphraseIcon" onclick="togglePasswordFn('chatWalletPassphrase')">&#128584; </span>
            </div>
            <div class="input-group mb-3 justify-content-end">
              <input type="button" class="btn btn-outline-secondary w-25" onclick="chatLoginFn()" value="&#128190;保存">
              <input type="button" class="btn btn-secondary w-25" onclick="chatEnterFn()" value="&#128682; 进入">
            </div>
          </form>
        </div>
        <div class="d-none mb-3" id="chatSummary" style="width: calc(100vw - 60px)">
          <div class="border border-info mb-3">
            <div class="input-group">
              <span class="input-group-text">板块编号</span>
              <input type="text" class="form-control chatTokenID" readonly>
            </div>
            <div class="input-group">
              <span class="input-group-text">板块简述</span>
              <input type="text" class="form-control" id="summaryChatDesc" readonly>
            </div>
            <div class="input-group">
              <span class="input-group-text">板块管理</span>
              <input type="text" class="form-control" id="summaryIssuerRS" readonly>
            </div>
          </div>
          <div class="border border-info ">
            <div class="input-group">
              <span class="input-group-text">用户钱包</span>
              <input type="text" class="form-control chatAccountRS" readonly>
            </div>
            <div class="input-group">
              <span class="input-group-text">公钥上链</span>
              <input type="text" class="form-control chatAccountPK" value="尚未" readonly>
            </div>
            <div class="input-group">
              <span class="input-group-text">钱包密钥</span>
              <input type="password" class="form-control chatAccountPW" readonly>
            </div>
          </div>
        </div>
        <div style="width: calc(100vw - 60px)">
          <p>留言版不是既时通讯IM的替代品。首先数据写入区块的时间需要60秒以上。其次板块内的留言只在链上储存90天。最后由于区块链技术特点，任何人都能以佚名方式留言，任何人也都能读取公开账本的所有数据。</p>
          <p class="d-none" id="chatAccountEmpty">请输入留言板专用钱包密钥。</p>
          <p class="d-none" id="chatTokenIDEmpty">请输入或选择聊天室编号</p>
          <p class="d-none" id="chatTokenIDNotFound">未知聊天室编号，请核对。</p>
        </div>
      </div>
      <div id="tab3" class="d-none" name="tab management">
        <div class="mt-3">
          <form id="issueChatTokenForm">
            <div class="input-group mb-3">
              <span class="input-group-text" >版块简述</span>
              <input class="form-control" type='text' name='description' maxlength="500" placeholder="Demo - Crypto Bulletin Board 公告栏" required>
            </div>
            <div class="input-group mb-3" >
              <span class="input-group-text" >钱包密钥</span>
              <input class="form-control demoAccount4PW" type='password' name='secretPhrase' id="chatTokenFormPassword" required>
              <span class="input-group-text fs-4"  id="chatTokenFormPasswordIcon" onclick="togglePasswordFn('chatTokenFormPassword')">&#128584;</span>
            </div>
            <div class="input-group justify-content-end mb-3" >
              <input type='reset' class='btn btn-outline-secondary w-25' value='&#x1F503; 重置'/>
              <input type='submit' class='btn btn-secondary w-25' value='创建' />
            </div>
          </form>
        </div>
        <div class="d-none mb-3" id="issueChatTokenFormSummary">
          <table class="table table-bordered border-info">
            <tr><td>板块编号</td><td><span id="issueChatTokenFormID"></span></td></tr>
            <tr><td>板块简述</td><td><span id="issueChatTokenFormDesc"></span></td></tr>
            <tr><td>板块管理</td><td><span id="issueChatTokenFormRS"></span></td></tr>
            <tr><td>区块链标识</td><td><span id="issueChatTokenFormIDFullhash"></td></tr>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="w-100 fixed-bottom" name="message input dialog">
    <form id="postMessageForm">
      <div class="input-group " >
        <textarea class="form-control" rows="2" name='message' id="chatMessageTextarea" required></textarea>
        <input type="submit" class="btn btn-secondary" value="&#128172; 留言 " id="postMessage">
      </div>
      <div class="input-group" >
        <button class="btn btn-outline-secondary btn-sm fs-4 inputButtonCSS" type="button" data-bs-toggle="modal" data-bs-target="#emojiModal">&#128522;</button>
        <!-- <button class="btn btn-outline-secondary btn-sm fs-4 inputButtonCSS" type="button" onClick="newRandomSecretFn('chatMessageTextarea')">&#127922;</button> -->
        <input type="text" class="form-control" name='attachment' placeholder="附件链接，仅支持 CID与URL">
      </div>
    </form>
  </div>
  <!-- Modal Emoji-->
  <div class="modal fade" id="emojiModal" tabindex="-1" aria-labelledby="emojiModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body">
          <table class="table table-sm table-bordered border-secondary fs-3 text-center" id="emojiTbl">
            <tr><td>&#128513;</td><td>&#128514;</td><td>&#128515;</td><td>&#128516;</td><td>&#128517;</td><td>&#128518;</td></tr>
            <tr><td>&#128519;</td><td>&#128520;</td><td>&#128521;</td><td>&#128522;</td><td>&#128523;</td><td>&#128524;</td></tr>
            <tr><td>&#128525;</td><td>&#128526;</td><td>&#128527;</td><td>&#128528;</td><td>&#128530;</td><td>&#128531;</td></tr>
            <tr><td>&#128532;</td><td>&#128534;</td><td>&#128536;</td><td>&#128538;</td><td>&#128540;</td><td>&#128541;</td></tr>
            <tr><td>&#128542;</td><td>&#128544;</td><td>&#128545;</td><td>&#128546;</td><td>&#128548;</td><td>&#128549;</td></tr>
            <tr><td>&#128552;</td><td>&#128553;</td><td>&#128554;</td><td>&#128555;</td><td>&#128557;</td><td>&#128560;</td></tr>
            <tr><td>&#128561;</td><td>&#128562;</td><td>&#128563;</td><td>&#128565;</td><td>&#128566;</td><td>&#128567;</td></tr>
            <tr><td><i class='far fa-grin-beam-sweat'></i></td><td><i class="far fa-grin-squint-tears"></i></td><td><i class="far fa-grin-stars"></i></td><td><i class="far fa-grin-tears"></i></td><td><i class='far fa-grin-tongue-squint'></i></td><td><i class="far fa-meh-rolling-eyes"></i></td></tr>
          </table>
        </div>
        <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary w-25" data-bs-dismiss="modal" aria-label="close">&#10006; 关闭弹窗</button>
      </div>
      </div>
    </div>
  </div>

  <!-- Modal new chat account-->
  <div class="modal fade" id="newChatAccountModal" tabindex="-1" aria-labelledby="newChatAccountModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
        <h5 class="modal-title" id="exampleModalToggleLabel">未知地址, 请点击【申请CC14通证】完成注册。</h5>
      </div>
        <div class="modal-body">
          <div id="requestCC14Action" >
            <form id="requestCC14Form" >
              <div class="input-group mb-3" >
                <span class="input-group-text" >钱包地址</span>
                <input class="form-control chatAccountRS" type="text"  readonly>
              </div>
              <div class="input-group mb-3" >
                <span class="input-group-text" >钱包公钥</span>
                <input class="form-control chatAccountPK" type="text" readonly>
              </div>
              <div class="input-group mb-3" >
                <span class="input-group-text" >钱包密钥</span>
                <input class="form-control chatAccountPW" type="text" placeholder="由应用自动输入" readonly>
              </div>
              <div class="input-group justify-content-md-end">
                <button type="button" class="btn btn-outline-secondary w-50" data-bs-dismiss="modal" aria-label="close">&#10006; 关闭弹窗</button>
                <input type="submit" class="btn btn-secondary w-50" value="申请 CC14 通证">
              </div>
            </form>
          </div>
          <div class="d-none" id="requestCC14Response" >
            <div class="overflow-auto">
              <h5>事件总结:</h5>
              <div>
                <p class="d-none" id="requestCC14incorrect">申请失败。钱包地址有误，请核对。</p>
                <p class="d-none" id="requestCC14unconfirmedTX">递交申请的钱包地址有尚未写入区块的交易，请等会再试。</p>
                <p class="d-none" id="requestCC14exceed">递交申请的钱包已经领取2000枚CC14 通证。如需更多的CC14通证请联系<a href="mailto:jieh.lei@gmail.com">DiTiNOW，或者微信ID：fengyun_houston</a></p>
                <p class="d-none" id="requestCC14approved">申请通过。500枚CC14 通证将于1分钟以后到账。</p>
              </div>
            </div>
            <div class="text-wrap text-break overflow-auto" style="max-height:800px">
              <h5>区块链响应:</h5>
              <div id="requestCC14JSON">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div id="footerModalContainer" name="Footer modal container">
    <!-- load by nva_footer.js -->
  </div>
</body>
<script>
  var isNode = false;
</script>
<script src='../js/3rdparty/jquery-3.5.1.min.js'></script>
<script src='../js/3rdparty/bootstrap.bundle.min.js' ></script>
<script src="../js/3rdparty/easy.qrcode.js"  charset="utf-8"></script>
<script src="../js/3rdparty/jquery.dataTables.min.js" ></script>
<script src="../js/3rdparty/jquery.table2excel.js"></script>
<script src="../js/3rdparty/crypto-js.min.js"></script>
<script src="../js/3rdparty/converters.js"></script>
<script src="../js/3rdparty/curve25519.js"></script>
<script src="../js/3rdparty/extensions.js"></script>
<script src="../js/3rdparty/jsbn.js"></script>
<script src="../js/3rdparty/jsbn2.js"></script>
<script src="../js/3rdparty/nrs.constants.js"></script>
<script src="../js/3rdparty/nrs.encryption.js"></script>
<script src="../js/3rdparty/nrs.util.js"></script>
<script src="../js/3rdparty/nxtaddress.js"></script>
<script src="../js/3rdparty/passphrasegenerator.js"></script>
<script src="../js/3rdparty/passphrasegenerator2.js"></script>
<script src="../js/3rdparty/sorttable.js"></script>
<script src="../js/scripts.cryptoc14.js" ></script>
<script src="../js/bulletin.cryptoc14.js" ></script>
<script src='../data/conf.js' ></script>
<script src='../data/myAddressBook.js' ></script>
<script src='../data/myAssetBook.js' ></script>
<script src='nav_footer.js' ></script>
<script>
  $(".demoIssuanceRS").val("CC14-5KKJ-TXML-FKM3-4SLZB");
  $(".demoAccount4PW").val("ci di wu yin 304 liang ge bi wang er bu ceng tou");
  $(".demoAccount5RS").val("CC14-CWWS-4MHT-ZKHY-DGUYC");
  $(".demoAccount5PW").val("ci di wu yin 305 liang ge bi wang er bu ceng tou");
</script>
<script>
  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
  var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {return new bootstrap.Tooltip(tooltipTriggerEl)});
  $('#getAccountBalancesAccountRS').val(localStorage.getItem("myWalletLS"));
  $("#footerModalContainer").html(footerModal);
  $("input[type='text']").on("click", function () {$(this).select();});
  var aboutUsModal = new bootstrap.Modal(document.getElementById('aboutUsModal'), {keyboard: false});
  var contactUsModal = new bootstrap.Modal(document.getElementById('contactUsModal'), {keyboard: false});
  var termModal = new bootstrap.Modal(document.getElementById('termModal'), {keyboard: false});
  var legalModal = new bootstrap.Modal(document.getElementById('legalModal'), {keyboard: false});
  var transactionModal = new bootstrap.Modal(document.getElementById('transactionModal'), {keyboard: false});
  var tokenModal = new bootstrap.Modal(document.getElementById('tokenModal'), {keyboard: false});
  var newChatAccountModal = new bootstrap.Modal(document.getElementById('newChatAccountModal'), {keyboard: false});
</script>
<script>
  $(document).ready(function(){
    $("#myInput").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $("#myTable tr").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
      });
    });
  });
  $(document).ready(function(){
    $("#myInput2").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $("#myTable2 tr").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
      });
    });
  });
</script>
<script>
  // $("#chatWalletPassphrase").val(localStorage.getItem("chatWalletPW"));
  $(".chatTokenID").val(localStorage.getItem("chatTokenID"));
  $(".chatAccountRS").val(localStorage.getItem("chatWalletRS"));
  $(".chatAccountPK").val(localStorage.getItem("chatWalletPK"));
  $(".chatAccountPW").val(localStorage.getItem("chatWalletPW"));
  $("#linktab1").attr("onclick", "postFn('"+localStorage.getItem('chatTokenID')+"')");
  chatRoomListOptionFn();
  bulletinBoardFn();
</script>
</html>
